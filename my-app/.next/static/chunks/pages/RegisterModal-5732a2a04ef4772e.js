(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{8140:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/RegisterModal",function(){return s(6537)}])},6537:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var l=s(4848),t=s(6540);let r=e=>{let{isOpen:a,onClose:s,onRegisterSuccess:r,onRegisterError:n}=e,[i,d]=(0,t.useState)({username:"",email:"",password:""}),[o,u]=(0,t.useState)(""),[m,c]=(0,t.useState)(!1),h=e=>{let{name:a,value:s}=e.target;d({...i,[a]:s})},p=async e=>{e.preventDefault(),c(!0),u("");try{let e=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(e.ok)r(),s();else{let a=(await e.json()).message||"Terjadi kesalahan, coba lagi.";u(a),n(a)}}catch(e){console.log(e),u("Terjadi kesalahan saat menghubungi server."),n("Terjadi kesalahan saat menghubungi server.")}finally{c(!1)}};return a?(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg w-96",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Register"}),(0,l.jsxs)("form",{onSubmit:p,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"username",className:"block text-lg",children:"Username"}),(0,l.jsx)("input",{type:"text",id:"username",name:"username",value:i.username,onChange:h,className:"w-full px-4 py-2 border rounded-md mb-4",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-lg",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:h,className:"w-full px-4 py-2 border rounded-md mb-4",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-lg",children:"Password"}),(0,l.jsx)("input",{type:"password",id:"password",name:"password",value:i.password,onChange:h,className:"w-full px-4 py-2 border rounded-md mb-4",required:!0})]}),o&&(0,l.jsx)("p",{className:"text-red-500",children:o}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg mt-4",disabled:m,children:m?"Mendaftar...":"Daftar"})]}),(0,l.jsx)("button",{className:"absolute top-2 right-2 text-gray-600",onClick:s,children:"X"})]})}):null}}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(8140)),_N_E=e.O()}]);
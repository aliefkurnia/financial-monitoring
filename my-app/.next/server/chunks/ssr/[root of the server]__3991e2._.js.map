{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/alip/financial-monitor/my-app/src/pages/_app.tsx"],"sourcesContent":["import { AppProps } from \"next/app\";\r\nimport \"../styles/globals.css\";\r\n\r\nfunction MyApp({ Component, pageProps }: AppProps) {\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      <Component {...pageProps} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyApp;\r\n"],"names":[],"mappings":";;;;;;AAGA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAY;IAC/C,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B;uCAEe"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file://C%3A/alip/financial-monitor/my-app/src/components/SidebarComponent.tsx"],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { FaBars, FaTachometerAlt, FaExchangeAlt, FaCogs } from \"react-icons/fa\";\r\n\r\ninterface SidebarProps {\r\n  isOpen: boolean;\r\n  setIsOpen: (isOpen: boolean) => void;\r\n}\r\n\r\nconst Sidebar = ({ isOpen, setIsOpen }: SidebarProps) => {\r\n  const router = useRouter();\r\n\r\n  const handleLogout = () => {\r\n    sessionStorage.removeItem(\"authToken\");\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`bg-gray-800 text-white h-screen p-6 fixed top-0 left-0 transition-all duration-300 ${\r\n        isOpen ? \"w-64\" : \"w-20\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <button\r\n          onClick={toggleSidebar}\r\n          className=\"text-white focus:outline-none focus:ring-2 focus:ring-gray-400\"\r\n        >\r\n          <FaBars size={20} />\r\n        </button>\r\n      </div>\r\n      <ul>\r\n        <li className=\"mb-4\" title=\"Dashboard\">\r\n          <Link href=\"/dashboard\">\r\n            <div className=\"flex items-center space-x-4 cursor-pointer hover:underline\">\r\n              <FaTachometerAlt size={20} />\r\n              {isOpen && <span>Dashboard</span>}\r\n            </div>\r\n          </Link>\r\n        </li>\r\n        <li className=\"mb-4\" title=\"Transaksi\">\r\n          <Link href=\"/transactions\">\r\n            <div className=\"flex items-center space-x-4 cursor-pointer hover:underline\">\r\n              <FaExchangeAlt size={20} />\r\n              {isOpen && <span>Transaksi</span>}\r\n            </div>\r\n          </Link>\r\n        </li>\r\n        <li className=\"mb-4\" title=\"Pengaturan\">\r\n          <Link href=\"/settings\">\r\n            <div className=\"flex items-center space-x-4 cursor-pointer hover:underline\">\r\n              <FaCogs size={20} />\r\n              {isOpen && <span>Pengaturan</span>}\r\n            </div>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n      {isOpen && (\r\n        <div className=\"mt-auto\">\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAOA,MAAM,UAAU,CAAC,EAAE,MAAM,EAAE,SAAS,EAAgB;IAClD,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe;QACnB,eAAe,UAAU,CAAC;QAC1B,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,gBAAgB;QACpB,UAAU,CAAC;IACb;IAEA,qBACE,qKAAC;QACC,WAAW,CAAC,mFAAmF,EAC7F,SAAS,SAAS,QAClB;;0BAEF,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,qKAAC,uIAAA,CAAA,SAAM;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAGlB,qKAAC;;kCACC,qKAAC;wBAAG,WAAU;wBAAO,OAAM;kCACzB,cAAA,qKAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC,uIAAA,CAAA,kBAAe;wCAAC,MAAM;;;;;;oCACtB,wBAAU,qKAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;kCAIvB,qKAAC;wBAAG,WAAU;wBAAO,OAAM;kCACzB,cAAA,qKAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC,uIAAA,CAAA,gBAAa;wCAAC,MAAM;;;;;;oCACpB,wBAAU,qKAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;kCAIvB,qKAAC;wBAAG,WAAU;wBAAO,OAAM;kCACzB,cAAA,qKAAC,qHAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC,uIAAA,CAAA,SAAM;wCAAC,MAAM;;;;;;oCACb,wBAAU,qKAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAKxB,wBACC,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file://C%3A/alip/financial-monitor/my-app/src/components/LayoutComponent.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { ReactNode } from \"react\";\r\nimport Sidebar from \"./SidebarComponent\";\r\n\r\ninterface LayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst Layout = ({ children }: LayoutProps) => {\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      <Sidebar isOpen={isSidebarOpen} setIsOpen={setIsSidebarOpen} />\r\n      <main\r\n        className={`flex-1 p-6 bg-gray-50 transition-all duration-300 ${\r\n          isSidebarOpen ? \"ml-64\" : \"ml-20\"\r\n        }`}\r\n      >\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAMA,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAe;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC,+HAAA,CAAA,UAAO;gBAAC,QAAQ;gBAAe,WAAW;;;;;;0BAC3C,qKAAC;gBACC,WAAW,CAAC,kDAAkD,EAC5D,gBAAgB,UAAU,SAC1B;0BAED;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file://C%3A/alip/financial-monitor/my-app/src/components/CombinedChartComponent.tsx"],"sourcesContent":["import {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\ninterface CombinedChartProps {\r\n  incomeData: { date: string; amount: number }[];\r\n  expenseData: { date: string; amount: number }[];\r\n}\r\n\r\n// Helper function to format date to \"YYYY-MM\"\r\nconst formatDateToMonth = (date: string) => {\r\n  const d = new Date(date);\r\n  return `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, \"0\")}`;\r\n};\r\n\r\n// Function to aggregate data by month\r\nconst aggregateDataByMonth = (data: { date: string; amount: number }[]) => {\r\n  const aggregatedData: { [key: string]: number } = {};\r\n\r\n  data.forEach(({ date, amount }) => {\r\n    const month = formatDateToMonth(date);\r\n    if (!aggregatedData[month]) {\r\n      aggregatedData[month] = 0;\r\n    }\r\n    aggregatedData[month] += amount;\r\n  });\r\n\r\n  return aggregatedData;\r\n};\r\n\r\nconst CombinedChart = ({ incomeData, expenseData }: CombinedChartProps) => {\r\n  // Aggregate the income and expense data by month\r\n  const aggregatedIncomeData = aggregateDataByMonth(incomeData);\r\n  const aggregatedExpenseData = aggregateDataByMonth(expenseData);\r\n\r\n  // Combine the data into a single array for chart plotting\r\n  const combinedData = Object.keys(aggregatedIncomeData).map((month) => ({\r\n    date: month,\r\n    income: aggregatedIncomeData[month],\r\n    expense: aggregatedExpenseData[month] || 0,\r\n  }));\r\n\r\n  // Sort the data by date\r\n  combinedData.sort((a, b) => (a.date > b.date ? 1 : -1));\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height={400}>\r\n      <LineChart data={combinedData}>\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"date\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Line type=\"monotone\" dataKey=\"income\" stroke=\"green\" />\r\n        <Line type=\"monotone\" dataKey=\"expense\" stroke=\"red\" />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default CombinedChart;\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAgBA,8CAA8C;AAC9C,MAAM,oBAAoB,CAAC;IACzB,MAAM,IAAI,IAAI,KAAK;IACnB,OAAO,GAAG,EAAE,WAAW,GAAG,CAAC,EAAE,CAAC,EAAE,QAAQ,KAAK,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC/E;AAEA,sCAAsC;AACtC,MAAM,uBAAuB,CAAC;IAC5B,MAAM,iBAA4C,CAAC;IAEnD,KAAK,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;QAC5B,MAAM,QAAQ,kBAAkB;QAChC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YAC1B,cAAc,CAAC,MAAM,GAAG;QAC1B;QACA,cAAc,CAAC,MAAM,IAAI;IAC3B;IAEA,OAAO;AACT;AAEA,MAAM,gBAAgB,CAAC,EAAE,UAAU,EAAE,WAAW,EAAsB;IACpE,iDAAiD;IACjD,MAAM,uBAAuB,qBAAqB;IAClD,MAAM,wBAAwB,qBAAqB;IAEnD,0DAA0D;IAC1D,MAAM,eAAe,OAAO,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,QAAU,CAAC;YACrE,MAAM;YACN,QAAQ,oBAAoB,CAAC,MAAM;YACnC,SAAS,qBAAqB,CAAC,MAAM,IAAI;QAC3C,CAAC;IAED,wBAAwB;IACxB,aAAa,IAAI,CAAC,CAAC,GAAG,IAAO,EAAE,IAAI,GAAG,EAAE,IAAI,GAAG,IAAI,CAAC;IAEpD,qBACE,qKAAC,4JAAA,CAAA,sBAAmB;QAAC,OAAM;QAAO,QAAQ;kBACxC,cAAA,qKAAC,8IAAA,CAAA,YAAS;YAAC,MAAM;;8BACf,qKAAC,sJAAA,CAAA,gBAAa;oBAAC,iBAAgB;;;;;;8BAC/B,qKAAC,8IAAA,CAAA,QAAK;oBAAC,SAAQ;;;;;;8BACf,qKAAC,8IAAA,CAAA,QAAK;;;;;8BACN,qKAAC,gJAAA,CAAA,UAAO;;;;;8BACR,qKAAC,+IAAA,CAAA,SAAM;;;;;8BACP,qKAAC,6IAAA,CAAA,OAAI;oBAAC,MAAK;oBAAW,SAAQ;oBAAS,QAAO;;;;;;8BAC9C,qKAAC,6IAAA,CAAA,OAAI;oBAAC,MAAK;oBAAW,SAAQ;oBAAU,QAAO;;;;;;;;;;;;;;;;;AAIvD;uCAEe"}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file://C%3A/alip/financial-monitor/my-app/src/pages/dashboard.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Layout from \"../components/LayoutComponent\";\r\nimport LastSummary from \"../components/LastSummaryComponent\";\r\nimport CombinedChart from \"../components/CombinedChartComponent\";\r\nimport SavingsPrediction from \"../components/SavingsPredictionComponent\";\r\nimport AddTransactionForm from \"../components/AddTransactionForm\";\r\nimport { Transaction } from \"../interfaces/InterfaceData\";\r\n\r\nconst Dashboard = () => {\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const savings = 500;\r\n\r\n  // Fetch Data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(\"/api/transactions\");\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Gagal memuat data!\");\r\n        }\r\n\r\n        const data: Transaction[] = await response.json();\r\n        console.log(\"Fetched Data:\", data); // Check the data\r\n        setTransactions(data);\r\n      } catch (error) {\r\n        setError(\"Gagal memuat data!\");\r\n        console.error(\"Error fetching data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Handle Add Transaction\r\n  const handleAddTransaction = (\r\n    newTransaction: Omit<Transaction, \"userId\">\r\n  ) => {\r\n    const userId = sessionStorage.getItem(\"userId\"); // Get userId from session storage\r\n\r\n    if (!userId) {\r\n      console.error(\"User ID is missing in session storage\");\r\n      return;\r\n    }\r\n\r\n    const transactionWithUserId: Transaction = {\r\n      ...newTransaction,\r\n      userId, // Add userId to the new transaction\r\n    };\r\n\r\n    console.log(\"New Transaction Added:\", transactionWithUserId); // Log added transaction\r\n    setTransactions([...transactions, transactionWithUserId]);\r\n  };\r\n\r\n  // Separate income and expense data from transactions\r\n  const incomeData = transactions.filter(\r\n    (transaction) => transaction.type === \"income\"\r\n  );\r\n  const expenseData = transactions.filter(\r\n    (transaction) => transaction.type === \"expense\"\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      {loading && <p>Loading...</p>}\r\n      {error && <p className=\"text-red-500\">{error}</p>}\r\n\r\n      <div className=\"bg-white shadow-md rounded-lg p-6 mb-8\">\r\n        <h3 className=\"text-2xl font-semibold mb-4\">\r\n          Grafik Pemasukan dan Pengeluaran\r\n        </h3>\r\n        <CombinedChart incomeData={incomeData} expenseData={expenseData} />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;;;;;AAKA,MAAM,YAAY;IAChB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAiB,EAAE;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,UAAU;IAEhB,aAAa;IACb,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,WAAW;gBACX,MAAM,WAAW,MAAM,MAAM;gBAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAsB,MAAM,SAAS,IAAI;gBAC/C,QAAQ,GAAG,CAAC,iBAAiB,OAAO,iBAAiB;gBACrD,gBAAgB;YAClB,EAAE,OAAO,OAAO;gBACd,SAAS;gBACT,QAAQ,KAAK,CAAC,wBAAwB;YACxC,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,yBAAyB;IACzB,MAAM,uBAAuB,CAC3B;QAEA,MAAM,SAAS,eAAe,OAAO,CAAC,WAAW,kCAAkC;QAEnF,IAAI,CAAC,QAAQ;YACX,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,MAAM,wBAAqC;YACzC,GAAG,cAAc;YACjB;QACF;QAEA,QAAQ,GAAG,CAAC,0BAA0B,wBAAwB,wBAAwB;QACtF,gBAAgB;eAAI;YAAc;SAAsB;IAC1D;IAEA,qDAAqD;IACrD,MAAM,aAAa,aAAa,MAAM,CACpC,CAAC,cAAgB,YAAY,IAAI,KAAK;IAExC,MAAM,cAAc,aAAa,MAAM,CACrC,CAAC,cAAgB,YAAY,IAAI,KAAK;IAGxC,qBACE,qKAAC,8HAAA,CAAA,UAAM;;YACJ,yBAAW,qKAAC;0BAAE;;;;;;YACd,uBAAS,qKAAC;gBAAE,WAAU;0BAAgB;;;;;;0BAEvC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAG5C,qKAAC,qIAAA,CAAA,UAAa;wBAAC,YAAY;wBAAY,aAAa;;;;;;;;;;;;;;;;;;AAI5D;uCAEe"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}